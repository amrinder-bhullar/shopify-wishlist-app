import{a}from"./axios-c0bebe37.js";const s=document.querySelector(".awishlist-btn");if(s){document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeend",'<link rel="stylesheet" href="http://localhost:5173/resources/css/wishlist-app.css" />');const e=s.dataset.product,o=s.dataset.customer,i="https://shopify-wishlist-app.test/api/",c=Shopify.shop;s&&s.addEventListener("click",()=>{s.classList.contains("active")?h():l()});const l=()=>{a.post(`${i}addToWishlist`,{shop_id:c,customer_id:o,product_id:e}).then(t=>{console.log(t),s.classList.add("active"),n("added to the wishlist")}).catch(t=>{console.log(t)})},h=()=>{a.post(`${i}removeFromWishlist`,{shop_id:c,customer_id:o,product_id:e}).then(t=>{console.log(t),s.classList.remove("active"),n("removed from the wishlist")}).catch(t=>{console.log(t)})},r=()=>{a.post(`${i}wishlistItemExists`,{shop_id:c,customer_id:o,product_id:e}).then(t=>{t.data===1&&s.classList.add("active")}).catch(t=>{console.log(t)})};document.addEventListener("DOMContentLoaded",()=>{r()});const n=t=>{const d=document.createElement("div");d.innerText=t,s.insertAdjacentElement("afterend",d),setTimeout(()=>d.remove(),3e3)}}
